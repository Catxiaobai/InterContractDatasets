pragma solidity >= 0.4.19 < 0.6.0;

contract Test1 {
    uint256 public goal = 0;

    function getGoal() public view returns (uint256) {
        return goal;
    }

    function setGoal(uint256 seed) public {
        goal = block.timestamp % seed;
    }
    
}

contract Test2 {

    address[] members;
    uint256 winner = 0xffff;
    Test1 t1;

    function addMember(address addr) public {
        members.push(addr);
    }



    function bet(uint256 seed) public {
        while (winner == 0xffff) {

            t1.setGoal(seed);
            if ( t1.getGoal() >= members.length) continue; // 
            winner = t1.getGoal();
        }
        transferToWinner(1);
    }

    function transferToWinner(uint amount) public {
        require(winner != 0xffff);
        address(members[winner]).transfer(amount);
    }



}
/*



Test1:
60806040526000805534801561001457600080fd5b50610121806100246000396000f3006080604052600436106053576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063401938831460585780634b29c448146080578063b97a7d241460aa575b600080fd5b348015606357600080fd5b50606a60d2565b6040518082815260200191505060405180910390f35b348015608b57600080fd5b5060a86004803603810190808035906020019092919050505060d8565b005b34801560b557600080fd5b5060bc60ec565b6040518082815260200191505060405180910390f35b60005481565b804281151560e257fe5b0660008190555050565b600080549050905600a165627a7a7230582006079f44780ea87b9c3edb61be88ad14c7699adeaa8df2809ad2d569151153700029
Uncheck External Calls: false
Strict Balance Equality: false
Transaction State Dependency: false
Block Info Dependency: false
Greedy Contract: false
DoS Under External Influence: false
Nest Call: false
Reentrancy: false
Code Coverage:0.9940476190476191
Miss recognized Jump: false
Cyclomatic Complexity: 2
Number of Instructions: 168

Running time：67ms

进程已结束,退出代码0



Test2:
608060405261ffff60015534801561001657600080fd5b50610488806100266000396000f300608060405260043610610057576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806304c4006b1461005c5780637365870b14610089578063ca6d56dc146100b6575b600080fd5b34801561006857600080fd5b50610087600480360381019080803590602001909291905050506100f9565b005b34801561009557600080fd5b506100b460048036038101908080359060200190929190505050610191565b005b3480156100c257600080fd5b506100f7600480360381019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506103f3565b005b61ffff6001541415151561010c57600080fd5b600060015481548110151561011d57fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f1935050505015801561018d573d6000803e3d6000fd5b5050565b5b61ffff60015414156103e657600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16634b29c448826040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b15801561022f57600080fd5b505af1158015610243573d6000803e3d6000fd5b50505050600080549050600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663b97a7d246040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b1580156102d357600080fd5b505af11580156102e7573d6000803e3d6000fd5b505050506040513d60208110156102fd57600080fd5b810190808051906020019092919050505010151561031a57610192565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663b97a7d246040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b1580156103a057600080fd5b505af11580156103b4573d6000803e3d6000fd5b505050506040513d60208110156103ca57600080fd5b8101908080519060200190929190505050600181905550610192565b6103f060016100f9565b50565b60008190806001815401808255809150509060018203906000526020600020016000909192909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050505600a165627a7a72305820fcc3da770db4ccdc4153bf5fec0a468fe94b4e2457b9896df879732939f5424a0029
Uncheck External Calls: false
Strict Balance Equality: false
Transaction State Dependency: false
Block Info Dependency: false
Greedy Contract: false
DoS Under External Influence: false
Nest Call: false
Reentrancy: false
Code Coverage:0.9948979591836735
Miss recognized Jump: false
Cyclomatic Complexity: 5
Number of Instructions: 588

Running time：131ms

进程已结束,退出代码0

*/